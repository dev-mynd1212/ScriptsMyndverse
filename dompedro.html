<!doctype html>
<html lang="pt-br">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1, viewport-fit=cover" />
  <title>Assinatura Digital — MyndVerse</title>
  <link rel="stylesheet" href="styles.css" />
</head>

<body>
  <header class="topbar">
    <div class="brand">
      <div class="logo-dot"></div>
      <div class="brand-text">
        <div class="brand-name">MyndVerse</div>
        <div class="brand-sub">Assinatura digital do contrato</div>
      </div>
    </div>
  </header>

  <main class="container">
    <section class="card">
      <div class="card-head">
        <h1>Contrato</h1>
        <p>Leia as 2 páginas abaixo. Depois assine e posicione a assinatura na página 2.</p>
      </div>

      <div class="pdf-wrap">
        <div id="pdfStatus" class="status">Carregando Mynd.pdf…</div>

        <!-- Página 1 -->
        <div class="page">
          <div class="page-label">Página 1</div>
          <canvas id="page1"></canvas>
        </div>

        <!-- Página 2 (com overlay para assinatura) -->
        <div class="page page-2">
          <div class="page-label">Página 2</div>

          <div id="page2Container" class="page2-container">
            <canvas id="page2"></canvas>

            <!-- overlay por cima do canvas da página 2 -->
            <div id="overlay2" class="overlay">
              <!-- assinatura “colada” entra aqui -->
            </div>
          </div>

          <div class="hint">
            Dica: depois de “Adicionar ao contrato”, arraste a assinatura para o local correto (rodapé da página 2).
          </div>
        </div>
      </div>
    </section>

    <section class="card">
      <div class="card-head">
        <h2>Assinar</h2>
        <p>Assine com o dedo (cor preta). Se errar, limpe e assine de novo.</p>
      </div>

      <div class="signature-area">
        <div class="sig-canvas-wrap">
          <canvas id="sigPad" class="sig-canvas"></canvas>
        </div>

        <div class="sig-controls">
          <button id="btnClear" class="btn btn-secondary" type="button">Limpar</button>
          <button id="btnAdd" class="btn btn-primary" type="button">Adicionar ao contrato</button>
        </div>

        <div class="size-row">
          <label for="sizeSlider">Tamanho da assinatura</label>
          <input id="sizeSlider" type="range" min="40" max="220" value="120" />
        </div>

        <div class="download-row">
          <button id="btnDownload" class="btn btn-ghost" type="button">
            Baixar contrato assinado (PDF)
          </button>
          <div id="downloadHelp" class="small">
            Você precisa adicionar e posicionar a assinatura na página 2 antes de baixar.
          </div>
        </div>
      </div>
    </section>

    <footer class="footer">
      <span>© MyndVerse</span>
      <span class="dot">•</span>
      <span>Assinatura digital</span>
    </footer>
  </main>

  <!-- libs via CDN (ok no GitHub Pages) -->
  <script src="https://cdnjs.cloudflare.com/ajax/libs/pdf.js/4.10.38/pdf.min.js"></script>
  <script src="https://cdnjs.cloudflare.com/ajax/libs/pdf.js/4.10.38/pdf.worker.min.js"></script>

  <script src="https://cdnjs.cloudflare.com/ajax/libs/pdf-lib/1.17.1/pdf-lib.min.js"></script>
  <script src="https://cdnjs.cloudflare.com/ajax/libs/signature_pad/4.1.7/signature_pad.umd.min.js"></script>
  <script src="https://cdn.jsdelivr.net/npm/interactjs/dist/interact.min.js"></script>

  <script src="script.js"></script>
</body>
</html>
